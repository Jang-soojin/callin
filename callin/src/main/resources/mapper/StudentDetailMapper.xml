<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd"> 
<mapper namespace="callinedu.callin.mapper.StudentDetailMapper">
	<resultMap type="StudentDetail" id="studentDetailResultMap">
		<result property="userName"			column="user_name"/>
		<result property="userId"			column="user_id"/>
		<result property="userEmail"		column="user_email"/>
	</resultMap>
	<select id="getStudentDetailListBySearch" parameterType="map" resultMap="studentDetailResultMap">
		SELECT
			user_name
			,user_id
			,user_email
		FROM 
			user_info
		WHERE
			user_level = '학생'
			<if test="searchValue != null and searchValue != ''">
					AND ${searchKey} LIKE CONCAT('%',#{searchValue}, '%')				
			</if>
	</select>

 	

</mapper>